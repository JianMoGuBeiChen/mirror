{"ast":null,"code":"// Simple Spotify Implicit Grant auth helper for browser-only apps\n\nconst SPOTIFY_ACCOUNTS = 'https://accounts.spotify.com/authorize';\n\n// Default client id for one-click connect (no manual entry). Replace with yours if needed.\nexport const DEFAULT_SPOTIFY_CLIENT_ID = 'c0e306fda7564575b2b8173ad25de008';\nexport const SPOTIFY_SCOPES = ['user-read-currently-playing', 'user-read-playback-state'];\nexport function buildSpotifyAuthUrl({\n  clientId,\n  redirectUri,\n  state\n}) {\n  const params = new URLSearchParams({\n    response_type: 'token',\n    client_id: clientId,\n    redirect_uri: redirectUri,\n    scope: SPOTIFY_SCOPES.join(' '),\n    state: state || Math.random().toString(36).slice(2),\n    show_dialog: 'true'\n  });\n  return `${SPOTIFY_ACCOUNTS}?${params.toString()}`;\n}\nexport function parseAccessTokenFromHash(hash) {\n  if (!hash || hash[0] !== '#') return null;\n  const params = new URLSearchParams(hash.slice(1));\n  const accessToken = params.get('access_token');\n  const tokenType = params.get('token_type');\n  const expiresIn = Number(params.get('expires_in') || '0');\n  if (!accessToken) return null;\n  const expiresAt = Date.now() + expiresIn * 1000 - 60 * 1000; // refresh 1 min early\n  return {\n    accessToken,\n    tokenType,\n    expiresIn,\n    expiresAt\n  };\n}","map":{"version":3,"names":["SPOTIFY_ACCOUNTS","DEFAULT_SPOTIFY_CLIENT_ID","SPOTIFY_SCOPES","buildSpotifyAuthUrl","clientId","redirectUri","state","params","URLSearchParams","response_type","client_id","redirect_uri","scope","join","Math","random","toString","slice","show_dialog","parseAccessTokenFromHash","hash","accessToken","get","tokenType","expiresIn","Number","expiresAt","Date","now"],"sources":["C:/Users/shaku/Documents/React JS Apps/Reflect/src/auth/SpotifyAuth.js"],"sourcesContent":["// Simple Spotify Implicit Grant auth helper for browser-only apps\r\n\r\nconst SPOTIFY_ACCOUNTS = 'https://accounts.spotify.com/authorize';\r\n\r\n// Default client id for one-click connect (no manual entry). Replace with yours if needed.\r\nexport const DEFAULT_SPOTIFY_CLIENT_ID = 'c0e306fda7564575b2b8173ad25de008';\r\n\r\nexport const SPOTIFY_SCOPES = [\r\n  'user-read-currently-playing',\r\n  'user-read-playback-state',\r\n];\r\n\r\nexport function buildSpotifyAuthUrl({ clientId, redirectUri, state }) {\r\n  const params = new URLSearchParams({\r\n    response_type: 'token',\r\n    client_id: clientId,\r\n    redirect_uri: redirectUri,\r\n    scope: SPOTIFY_SCOPES.join(' '),\r\n    state: state || Math.random().toString(36).slice(2),\r\n    show_dialog: 'true',\r\n  });\r\n  return `${SPOTIFY_ACCOUNTS}?${params.toString()}`;\r\n}\r\n\r\nexport function parseAccessTokenFromHash(hash) {\r\n  if (!hash || hash[0] !== '#') return null;\r\n  const params = new URLSearchParams(hash.slice(1));\r\n  const accessToken = params.get('access_token');\r\n  const tokenType = params.get('token_type');\r\n  const expiresIn = Number(params.get('expires_in') || '0');\r\n  if (!accessToken) return null;\r\n  const expiresAt = Date.now() + expiresIn * 1000 - 60 * 1000; // refresh 1 min early\r\n  return { accessToken, tokenType, expiresIn, expiresAt };\r\n}\r\n\r\n\r\n"],"mappings":"AAAA;;AAEA,MAAMA,gBAAgB,GAAG,wCAAwC;;AAEjE;AACA,OAAO,MAAMC,yBAAyB,GAAG,kCAAkC;AAE3E,OAAO,MAAMC,cAAc,GAAG,CAC5B,6BAA6B,EAC7B,0BAA0B,CAC3B;AAED,OAAO,SAASC,mBAAmBA,CAAC;EAAEC,QAAQ;EAAEC,WAAW;EAAEC;AAAM,CAAC,EAAE;EACpE,MAAMC,MAAM,GAAG,IAAIC,eAAe,CAAC;IACjCC,aAAa,EAAE,OAAO;IACtBC,SAAS,EAAEN,QAAQ;IACnBO,YAAY,EAAEN,WAAW;IACzBO,KAAK,EAAEV,cAAc,CAACW,IAAI,CAAC,GAAG,CAAC;IAC/BP,KAAK,EAAEA,KAAK,IAAIQ,IAAI,CAACC,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,EAAE,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC;IACnDC,WAAW,EAAE;EACf,CAAC,CAAC;EACF,OAAO,GAAGlB,gBAAgB,IAAIO,MAAM,CAACS,QAAQ,CAAC,CAAC,EAAE;AACnD;AAEA,OAAO,SAASG,wBAAwBA,CAACC,IAAI,EAAE;EAC7C,IAAI,CAACA,IAAI,IAAIA,IAAI,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE,OAAO,IAAI;EACzC,MAAMb,MAAM,GAAG,IAAIC,eAAe,CAACY,IAAI,CAACH,KAAK,CAAC,CAAC,CAAC,CAAC;EACjD,MAAMI,WAAW,GAAGd,MAAM,CAACe,GAAG,CAAC,cAAc,CAAC;EAC9C,MAAMC,SAAS,GAAGhB,MAAM,CAACe,GAAG,CAAC,YAAY,CAAC;EAC1C,MAAME,SAAS,GAAGC,MAAM,CAAClB,MAAM,CAACe,GAAG,CAAC,YAAY,CAAC,IAAI,GAAG,CAAC;EACzD,IAAI,CAACD,WAAW,EAAE,OAAO,IAAI;EAC7B,MAAMK,SAAS,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGJ,SAAS,GAAG,IAAI,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC;EAC7D,OAAO;IAAEH,WAAW;IAAEE,SAAS;IAAEC,SAAS;IAAEE;EAAU,CAAC;AACzD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}